(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{637:function(a,s,t){"use strict";t.r(s);var e=t(7),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("RN应用接入MPush时踩坑日常\n")]),a._v(" "),t("h2",{attrs:{id:"sdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdk"}},[a._v("#")]),a._v(" SDK")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://help.aliyun.com/document_detail/51056.html?spm=a2c4g.11186623.6.568.6b5e59f7xcT818#%E4%B8%80%E3%80%81Maven%E5%BA%93%E5%BF%AB%E9%80%9F%E9%9B%86%E6%88%90(%E8%BF%9C%E7%A8%8B%E5%90%8C%E6%AD%A5)",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方文档"),t("OutboundLink")],1),a._v("接入SDK文件")])]),a._v(" "),t("h2",{attrs:{id:"error-cannot-fit-requested-classes-in-a-single-dex-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-cannot-fit-requested-classes-in-a-single-dex-file"}},[a._v("#")]),a._v(" "),t("code",[a._v("Error: Cannot fit requested classes in a single dex file")])]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://blog.csdn.net/zyw0101/article/details/91375106",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://blog.csdn.net/zyw0101/article/details/91375106"),t("OutboundLink")],1)])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// app/build.gradle")]),a._v("\nandroid "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    defaultConfig "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 这里添加")]),a._v("\n        multiDexEnabled "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\ndependencies "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 引入multidex库")]),a._v("\n    implementation "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.android.support:multidex:1.0.3'")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// application中初始化")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Override")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 初始化MultiDex")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MultiDex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br")])]),t("h2",{attrs:{id:"android-8-0以上设备接收不到推送通知"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-8-0以上设备接收不到推送通知"}},[a._v("#")]),a._v(" "),t("code",[a._v("Android 8.0以上设备接收不到推送通知")])]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://help.aliyun.com/knowledge_detail/67398.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://help.aliyun.com/knowledge_detail/67398.html"),t("OutboundLink")],1)]),a._v(" "),t("li",[a._v("配置辅助通道")])]),a._v(" "),t("h2",{attrs:{id:"error-权限重复"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-权限重复"}},[a._v("#")]),a._v(" Error: 权限重复")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 慎用 重新同步很慢")]),a._v("\nrm "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Rf")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gradle"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("caches"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/*\n\n    <manifest\n        xmlns:tools="http://schemas.android.com/tools"\n    >\n        <application\n            tools:replace="android:allowBackup"\n        >\n        </application>\n    </manifest>\n')])])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("h2",{attrs:{id:"react-native-orientation-verifyreleaseresources-failed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react-native-orientation-verifyreleaseresources-failed"}},[a._v("#")]),a._v(" "),t("code",[a._v("react-native-orientation:verifyReleaseResources FAILED")])]),a._v(" "),t("p",[t("code",[a._v("$ ./gradlew assembleRelease")]),a._v("，变更为 "),t("code",[a._v("$ ./gradlew app:assembleRelease")]),t("br"),a._v(" "),t("code",[a._v("cd android && ./gradlew app:assembleRelease && ./gradlew clean && cd .. && react-native run-android --variant=release")]),t("br"),a._v(" "),t("code",[a._v("cd android && ./gradlew assembleRelease && ./gradlew clean && cd .. && react-native run-android")])]),a._v(" "),t("h2",{attrs:{id:"huawei-connect-result-6003"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#huawei-connect-result-6003"}},[a._v("#")]),a._v(" Huawei connect result:6003")]),a._v(" "),t("p",[a._v("证书指纹校验：签名证书指纹错误。"),t("br"),a._v(" "),t("code",[a._v("$ react-native run-android --variant=release")]),a._v(" release 包 => 签名一致"),t("br"),a._v("\n</Users/jinbuhuan/Desktop/jbh_hdz_client_app_v2/android/app/build/outputs/apk/debug/app-debug/META-INF/CERT.RSA>")]),a._v(" "),t("blockquote",[t("ol",[t("li",[a._v("检查申请相关服务时配置了正确的证书指纹。打开应用的APK，将其中“META-INF”文件夹解压出来，得到其中的“CERT.RSA”文件，通过keytool -printcert -file META-INF/CERT.RSA命令打印签名证书信息。")]),a._v(" "),t("li",[a._v("登录AppGallery Connect，单击“我的应用”，进入应用开发页面后，在“开发 > 项目设置 > 常规” 中检查“SHA256证书指纹”配置的信息是否与步骤1的指纹一致。")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);